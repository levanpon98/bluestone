{"ast":null,"code":"import { message } from 'antd';\n\nconst mail = require('@sendgrid/mail');\n\nmail.setApiKey(process.env.SENDGRID_API_KEY);\nexport default ((req, res) => {\n  const body = JSON.parse(req.body);\n  console.log(body);\n  const message = `\n        Name: ${body.name}\\r\\n\n        Email: ${body.email}\\r\\n\n        Message: ${body.message}\n    `;\n  const data = {\n    to: \"levanpon1009@gmail.com\",\n    from: body.email,\n    subject: body.subject,\n    text: mesage,\n    html: \"\"\n  };\n  mail.send(data);\n  res.status(200).json({\n    status: \"OK\"\n  });\n});","map":{"version":3,"sources":["/home/ponlv/work/projects/hmsp/bluestone/pages/api/mail.jsx"],"names":["message","mail","require","setApiKey","process","env","SENDGRID_API_KEY","req","res","body","JSON","parse","console","log","name","email","data","to","from","subject","text","mesage","html","send","status","json"],"mappings":"AAAA,SAASA,OAAT,QAAwB,MAAxB;;AAEA,MAAMC,IAAI,GAAGC,OAAO,CAAC,gBAAD,CAApB;;AAEAD,IAAI,CAACE,SAAL,CAAeC,OAAO,CAACC,GAAR,CAAYC,gBAA3B;AAEA,gBAAe,CAACC,GAAD,EAAMC,GAAN,KAAc;AACzB,QAAMC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWJ,GAAG,CAACE,IAAf,CAAb;AACAG,EAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAZ;AACA,QAAMT,OAAO,GAAI;AACrB,gBAAgBS,IAAI,CAACK,IAAK;AAC1B,iBAAiBL,IAAI,CAACM,KAAM;AAC5B,mBAAmBN,IAAI,CAACT,OAAQ;AAChC,KAJI;AAMA,QAAMgB,IAAI,GAAG;AACTC,IAAAA,EAAE,EAAE,wBADK;AAETC,IAAAA,IAAI,EAAET,IAAI,CAACM,KAFF;AAGTI,IAAAA,OAAO,EAAEV,IAAI,CAACU,OAHL;AAITC,IAAAA,IAAI,EAAEC,MAJG;AAKTC,IAAAA,IAAI,EAAE;AALG,GAAb;AAQArB,EAAAA,IAAI,CAACsB,IAAL,CAAUP,IAAV;AACAR,EAAAA,GAAG,CAACgB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACD,IAAAA,MAAM,EAAE;AAAT,GAArB;AACH,CAnBD","sourcesContent":["import { message } from 'antd'\n\nconst mail = require('@sendgrid/mail')\n\nmail.setApiKey(process.env.SENDGRID_API_KEY)\n\nexport default (req, res) => {\n    const body = JSON.parse(req.body)\n    console.log(body)\n    const message = `\n        Name: ${body.name}\\r\\n\n        Email: ${body.email}\\r\\n\n        Message: ${body.message}\n    `\n\n    const data = {\n        to: \"levanpon1009@gmail.com\",\n        from: body.email,\n        subject: body.subject,\n        text: mesage,\n        html: \"\"\n    }\n\n    mail.send(data)\n    res.status(200).json({status: \"OK\"})\n}"]},"metadata":{},"sourceType":"module"}